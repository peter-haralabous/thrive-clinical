interactions:
  - request:
      body:
        '{"messages": [{"role": "user", "content": [{"text": "Generate the following
        sections for a medical summary:\n\n## Section 1: Medical History Summary\nSummarize
        medical history: Diabetes, Hypertension\n\n## Section 2: Medication Review\nReview
        medications: Metformin, Lisinopril\n\n## Section 3: Visit Assessment\nAssess
        visit: Annual checkup\n\n---\n\nPlease generate all sections with appropriate
        markdown headings (##) for each section title."}]}], "system": [{"text": "You
        are a medical AI assistant specialized in generating concise, accurate clinical
        summaries.\n\nYour role is to:\n- Analyze patient medical information and generate
        clear, professional summaries\n- Organize information into well-structured sections
        with appropriate headings\n- Use medical terminology appropriately while remaining
        clear\n- Focus on clinically relevant information\n- Format output as markdown
        with proper section headers (using ##)\n- Be concise but comprehensive\n\nIMPORTANT:\n-
        Each section should have a clear heading starting with ##\n- Write in a professional
        medical tone\n- Do not include disclaimers or meta-commentary\n- Do not make
        up information - only summarize what is provided\n- If information is insufficient,
        note that briefly\n"}], "inferenceConfig": {}, "toolConfig": {"tools": [{"toolSpec":
        {"name": "AISummaryResponse", "description": "Response from AI containing multiple
        sections.", "inputSchema": {"json": {"properties": {"sections": {"description":
        "List of sections in the AI-generated summary", "items": {"description": "Represents
        a single section in an AI-generated summary.", "properties": {"title": {"description":
        "The section title/heading", "type": "string"}, "content": {"description": "The
        markdown content for this section", "type": "string"}}, "required": ["title",
        "content"], "type": "object"}, "type": "array"}}, "required": ["sections"],
        "type": "object"}}}}], "toolChoice": {"any": {}}}}'
      headers:
        Content-Length:
          - '1923'
        Content-Type:
          - !!binary |
            YXBwbGljYXRpb24vanNvbg==
        User-Agent:
          - !!binary |
            Qm90bzMvMS40MC4yNiBtZC9Cb3RvY29yZSMxLjQwLjI2IHVhLzIuMSBvcy9tYWNvcyMyNS4xLjAg
            bWQvYXJjaCNhcm02NCBsYW5nL3B5dGhvbiMzLjEzLjIgbWQvcHlpbXBsI0NQeXRob24gbS9aLGIs
            RCBjZmcvcmV0cnktbW9kZSNsZWdhY3kgQm90b2NvcmUvMS40MC4yNiB4LWNsaWVudC1mcmFtZXdv
            cms6bGFuZ2NoYWluLWF3cw==
        X-Amz-Date:
          - !!binary |
            MjAyNTExMjRUMjI0MzQ0Wg==
        amz-sdk-invocation-id:
          - !!binary |
            NTBlNDJlZDUtNDcyYi00NDAwLWE5MmItMmNkMzJjODM3MjUy
        amz-sdk-request:
          - !!binary |
            YXR0ZW1wdD0x
      method: POST
      uri: https://bedrock-runtime.ca-central-1.amazonaws.com/model/global.anthropic.claude-sonnet-4-5-20250929-v1%3A0/converse
    response:
      body:
        string:
          '{"metrics":{"latencyMs":9930},"output":{"message":{"content":[{"toolUse":{"input":{"sections":[{"title":"Medical
          History Summary","content":"The patient has a documented history of chronic
          medical conditions including:\n\n**Diabetes Mellitus**: Patient is being managed
          for diabetes, requiring ongoing monitoring and pharmacological intervention.\n\n**Hypertension**:
          Patient has a diagnosis of elevated blood pressure requiring antihypertensive
          therapy.\n\nBoth conditions are common comorbidities requiring regular monitoring,
          medication management, and lifestyle modifications to prevent cardiovascular
          complications and end-organ damage."},{"title":"Medication Review","content":"Current
          medications include:\n\n**Metformin**: First-line oral antihyperglycemic agent
          used for management of type 2 diabetes mellitus. Metformin improves insulin
          sensitivity and reduces hepatic glucose production. Standard monitoring includes
          renal function assessment and periodic HbA1c levels.\n\n**Lisinopril**: ACE
          inhibitor used for management of hypertension. This medication provides blood
          pressure control and offers renal protective benefits, particularly important
          in patients with concurrent diabetes. Regular monitoring of blood pressure,
          renal function, and electrolytes (particularly potassium) is recommended.\n\nBoth
          medications demonstrate appropriate therapeutic alignment with the patient''s
          documented chronic conditions."},{"title":"Visit Assessment","content":"**Visit
          Type**: Annual checkup\n\n**Purpose**: This is a routine preventive care visit
          for comprehensive health maintenance and chronic disease management.\n\n**Clinical
          Focus**: The annual examination should include:\n- Review and optimization
          of chronic disease management (diabetes and hypertension)\n- Medication adherence
          assessment and tolerability review\n- Screening laboratory studies (HbA1c,
          lipid panel, renal function, urinalysis)\n- Blood pressure measurement and
          trending\n- Age-appropriate preventive health screenings\n- Assessment of
          diabetes-related complications (retinopathy, neuropathy, nephropathy screening)\n-
          Lifestyle counseling including diet, exercise, and weight management\n- Vaccination
          status review and updates as indicated\n\nThis visit provides an opportunity
          for comprehensive risk assessment and preventive care optimization."}]},"name":"AISummaryResponse","toolUseId":"tooluse_ztTIFldqSeSShxfxF7LaRw","type":"tool_use"}}],"role":"assistant"}},"stopReason":"tool_use","usage":{"cacheReadInputTokenCount":0,"cacheReadInputTokens":0,"cacheWriteInputTokenCount":0,"cacheWriteInputTokens":0,"inputTokens":986,"outputTokens":537,"serverToolUsage":{},"totalTokens":1523}}'
      headers:
        Connection:
          - keep-alive
        Content-Length:
          - '2669'
        Content-Type:
          - application/json
        Date:
          - Mon, 24 Nov 2025 22:43:54 GMT
        x-amzn-RequestId:
          - e4b3c4cb-53d8-48d7-8a1f-a80a1bfe0ee4
      status:
        code: 200
        message: OK
version: 1
