{% extends "users/base.html" %}

{% load crispy_forms_tags %}
{% load lucide %}

{% block content %}
  <div class="flex justify-center">
    <div class="card bg-base-100 w-full max-w-4xl shadow-xl">
      <div class="card-body">
        <div class="flex justify-between mb-6">
          <h1 class="card-title text-2xl">Edit Template: {{ template.name }}</h1>
          <button id="delete-template-button-{{ template.id }}"
                  type="button"
                  class="btn btn-error btn-outline btn-sm"
                  hx-get="{% url 'providers:summary_template_delete' organization_id=organization.id template_id=template.id %}"
                  hx-target="#delete-modal-container"
                  hx-indicator="#delete-modal-loading">
            {% lucide "trash-2" class="size-4 mr-1" %}
            Delete Template
          </button>
        </div>
        <div id="delete-modal-container"></div>
        <form method="post">
          {% csrf_token %}
          {% crispy form %}
          <div class="card-actions justify-end mt-6">
            <a href="{% url "providers:summary_template_list" organization_id=organization.id %}"
               class="btn btn-ghost">Cancel</a>
            <button type="submit" class="btn btn-primary">Save Template</button>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock content %}
