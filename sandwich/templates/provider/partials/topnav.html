{% extends 'partials/topnav.html' %}

{% load static i18n %}

{% block topnav_items_start %}
  <div class="flex items-center text-xl font-bold gap-2">
    {# FIXME: Remove "secret" link once provider vs patient accounts delineated #}
    <a href="{% url 'core:home' %}">
      <svg xmlns="http://www.w3.org/2000/svg"
           width="24"
           height="24"
           viewBox="0 0 24 24"
           fill="none"
           stroke="currentColor"
           stroke-width="1.5"
           stroke-linecap="round"
           stroke-linejoin="round"
           class="size-6 text-primary"
           aria-hidden="true">
        <path d="M14 2v4a2 2 0 0 0 2 2h4"></path>
        <path d="M2.62 13.8A2.25 2.25 0 1 1 6 10.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z"></path>
        <path d="M4 6.005V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-1.9-1.376"></path>
      </svg>
    </a>
    <a href="{% url 'providers:home' %}">HealthConnect</a>
  </div>
{% endblock topnav_items_start %}
{% block topnav_items_center %}
  {# TODO: just show the opened command palette inline, instead of this fakery #}
  <div class="flex border rounded-lg border-gray-400 text-gray-400 px-4 py-2">
    <svg xmlns="http://www.w3.org/2000/svg"
         fill="none"
         viewBox="0 0 24 24"
         stroke-width="2"
         stroke="currentColor"
         class="size-5 self-center">
      <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
    </svg>
    <input class="mx-4 text-gray-500 w-96"
           type="text"
           id="command-palette-trigger"
           placeholder="Type a command or search..." />
    <span class="text-sm self-center">âŒ˜ + K</span>
  </div>
  <script nonce="{{request.csp_nonce}}">
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('command-palette-trigger').addEventListener('focus', (event) => {
        document.querySelector('command-palette').isOpen = true;
        event.target.blur();
      });
    })
  </script>
{% endblock topnav_items_center %}
{% block avatar_nav_items %}
  {% if organization %}
    <li>
      <a href="{% url 'providers:organization_edit' organization_id=organization.id %}">Organization Settings</a>
    </li>
  {% endif %}
{% endblock avatar_nav_items %}
