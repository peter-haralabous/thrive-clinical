{% extends 'partials/topnav.html' %}

{% load static i18n %}

{% block topnav_items_start %}
  {# TODO: just show the opened command palette inline, instead of this fakery #}
  <input class="input"
         type="text"
         id="command-palette-trigger"
         placeholder="Type a command or search..." />
  <script nonce="{{request.csp_nonce}}">
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('command-palette-trigger').addEventListener('focus', (event) => {
        document.querySelector('command-palette').isOpen = true;
        event.target.blur();
      });
    })
  </script>
{% endblock topnav_items_start %}
