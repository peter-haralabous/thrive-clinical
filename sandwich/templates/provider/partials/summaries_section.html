{% load lucide %}

<div class="flex flex-col w-full space-y-4 card card-border bg-base-100 px-6 py-4">
  <div class="flex justify-between items-center">
    <h3 class="m-0">Summaries</h3>
  </div>
  <div>
    {% if summaries %}
      <div class="space-y-4">
        {% for summary in summaries %}
          <a href="{% url 'providers:summary_detail' organization_id=organization.id summary_id=summary.id %}"
             hx-get="{% url 'providers:summary_detail' organization_id=organization.id summary_id=summary.id %}"
             hx-target="body"
             hx-swap="beforeend"
             class="flex items-center gap-4 p-4 bg-base-200/50 rounded-lg hover:bg-base-200 transition-colors cursor-pointer">
            <div class="flex-shrink-0">{% lucide "file-text" class="size-5 text-base-content/60" %}</div>
            <div class="flex-1">
              <div class="font-medium mb-1">{{ summary.title }}</div>
              <div class="flex items-center gap-2 text-sm">
                {% include 'provider/partials/summary_status_badge.html' with summary=summary size='sm' %}
                <span class="text-base-content/60">â€¢ Generated {{ summary.created_at|date:DJANGO_DATE_FORMAT }}</span>
              </div>
            </div>
            {% lucide "chevron-right" class="size-5 text-base-content/60" %}
          </a>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-center py-8 text-base-content/60">
        {% if encounter %}
          No summaries for this encounter.
        {% else %}
          No summaries for this patient.
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>
