{% extends "patient/chatty/partials/sidebar.html" %}

{% load lucide %}

{# djlint:off #}
{% block panel_id %}right-panel{% endblock panel_id %}
{# if the icon isn't a button it needs some additional padding #}
{% block header_icon %}<div class="pl-2">{% lucide "layout-grid" class="size-6" %}</div>{% endblock header_icon %}
{% block header_title %}Feed{% endblock header_title %}
{% block collapse_icon %}{% lucide "panel-right-close" class="size-6" %}{% endblock collapse_icon %}
{% block expand_icon %}{% lucide "panel-right-open" class="size-6" %}{% endblock expand_icon %}
{# djlint:on #}
{% block panel_content %}
  <div class="overflow-y-auto px-4 pt-4 relative" id="feed-items">
    {% include 'patient/chatty/partials/file_upload_card.html' %}
  </div>
  <div class="flex-1 overflow-y-auto px-4 pt-4 relative"
       id="summary-content">
    {# Health Summary Card - extracted to separate partial for better organization #}
    {% include 'patient/chatty/partials/health_summary_card.html' %}
    {# Future: additional feed items can be added here #}
    {# Loading overlay - positioned absolutely over the entire content area #}
    <div id="summary-loading-overlay"
         class="summary-loading-overlay absolute inset-0 bg-white/40 rounded-xl overflow-hidden pointer-events-none">
      <div class="text-center z-10 relative flex items-start justify-center pt-8">
        {% lucide "loader-circle" class="size-16 text-primary animate-spin" %}
      </div>
    </div>
  </div>
{% endblock panel_content %}
{% block collapsed_panel_content %}
  {# nothing here #}
{% endblock collapsed_panel_content %}
