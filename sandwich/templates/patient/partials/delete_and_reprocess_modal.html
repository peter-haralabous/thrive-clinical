{% load lucide %}
{% load crispy_forms_tags %}

<dialog id="delete-and-reprocess-modal" class="modal">
  <div class="modal-box">
    {% include "partials/modal_close_button.html" %}
    <div class="space-y-2">
      <h3 class="text-lg font-bold">Delete and Re-process Health Records?</h3>
      <p>This action will:</p>
      <ul class="list-disc list-inside ml-4">
        <li>
          Delete all <strong>extracted health records</strong> (conditions, immunizations, practitioners)
        </li>
        <li>
          Keep all uploaded <strong>documents</strong>
        </li>
        <li>Re-process all documents to extract new health records</li>
      </ul>
      <p class="text-info">Use this if you want to regenerate health records from your existing documents.</p>
      <p class="text-warning font-semibold">This action cannot be undone.</p>
      <p>
        Type <strong class="text-red-700">DELETE</strong> to confirm.
      </p>
      {% crispy form %}
    </div>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
<script>
  document.getElementById('delete-and-reprocess-modal').showModal()
</script>
